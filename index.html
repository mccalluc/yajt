<!DOCTYPE html>
<html>
    <head>
        <title>
            Yet Another Javascript Theremin
        </title>
        <style>
            canvas { width: 50%; float: left; padding-right: 2em; }
            body { font-family: sans-serif; }
            .ui-widget { width: 30%; float: right; }
        </style>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    </head>

    <body>
        <div>
            <div id="yajt"></div>
            <div>
                <h1>
                    Yet Another Javascript Theremin
                </h1>
                <p>
                    You are the tone generator.
                    It helps to stand against a well-lit blank wall of a contrasting color.
                    Works best in Firefox right now.
                    <a href="http://github.com/mccalluc/yajt">Source on Github.</a>
                </p>
                <p>Threshold <span id="threshold"></span></p>
                <p>Rate <span id="rate"></span></p>
                <p>Tone <span id="tone"></span></p>
            </div>
        </div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
        <script src="yajt-core.js"></script>
        <script src="yajt-image-transforms.js"></script>
        <script src="yajt-dimension-reduction.js"></script>
        <script src="yajt-audio.js"></script>
        <script>
            $(function () {
                YAJT.core.init({
                    transforms: [
                        YAJT.image_transforms.grayscale,
                        YAJT.image_transforms.horizontal_edge_detection
                    ]
                });
            });
            $('#threshold').slider({min: 1, max: 254, value: YAJT.core.config.threshold,
                slide: function(event, ui) {
                    YAJT.core.config.threshold = ui.value;
                }
            });
            $('#rate').slider({min: 0.5, max: 30, step: 0.5, value: 1000 / YAJT.core.config.timeout,
                slide: function(event, ui) {
                    YAJT.core.config.timeout = 1000 / ui.value;
                }
            });
            $('#tone').slider({min: -6, max: 6, step: 0.5, value: YAJT.core.config.tone,
                slide: function(event, ui) {
                    YAJT.core.config.tone = ui.value;
                }
            });
        </script>
    </body>
</html>
